# insert
db.mongodb_collection.createIndex( { "pointLocation" : "2dsphere" } )
db.mongodb_collection.createIndex({
	"string" : "text",
	"array" : "text"
})
db.mongodb_collection.insert([
    {
        "_id" : 0,
        "double" : 0.0,
        "string" : "string_0",
        "array" : [
            "繁體中文字串測試_0",
            "其他不相關字串_0",
            "text_0"
        ],
        "binData" : BinData(0,"AQID"),
        "objectId" : ObjectId("58463b0aa33dac208c802f20"),
        "bool" : true,
        "date" : ISODate("2016-12-06T04:14:02.210Z"),
        "ttl" : new Date(),
        "null" : null,
        "int" : 0,
        "long" : NumberLong(0),
        "document" : {
            "_id" : ObjectId("58463b0aa33dac208c802f00"),
            "key_0" : "value_0_0",
            "key_1" : "value_0_1",
            "key_2" : "value_0_2"
        },
        "documents" : [
            {
                "_id" : ObjectId("58463b0aa33dac208c802f01"),
                "key_0" : "value_0_0_0",
                "key_1" : "value_0_0_1",
                "key_2" : "value_0_0_2"
            },
            {
                "_id" : ObjectId("58463b0aa33dac208c802f02"),
                "key_0" : "value_0_1_0",
                "key_1" : "value_0_1_1",
                "key_2" : "value_0_1_2"
            }
        ],
        "pointLocation" : {
            "type" : "Point",
            "coordinates" : [
                120,
                23.5
            ]
        }
    },
    {
        "_id" : 1,
        "double" : 1.1,
        "string" : "string_1",
        "array" : [
            "繁體中文字串測試_1",
            "其他不相關字串_1",
            "text_1"
        ],
        "binData" : BinData(0,"AQID"),
        "objectId" : ObjectId("58463b0aa33dac208c802f21"),
        "bool" : false,
        "date" : ISODate("2016-12-06T04:14:02.211Z"),
        "ttl" : new Date(),
        "null" : null,
        "int" : 1,
        "long" : NumberLong(1),
        "document" : {
            "_id" : ObjectId("58463b0aa33dac208c802f10"),
            "key_0" : "value_1_0",
            "key_1" : "value_1_1",
            "key_2" : "value_1_2"
        },
        "documents" : [
            {
                "_id" : ObjectId("58463b0aa33dac208c802f11"),
                "key_0" : "value_1_0_0",
                "key_1" : "value_1_0_1",
                "key_2" : "value_1_0_2"
            },
            {
                "_id" : ObjectId("58463b0aa33dac208c802f12"),
                "key_0" : "value_1_1_0",
                "key_1" : "value_1_1_1",
                "key_2" : "value_1_1_2"
            }
        ],
        "pointLocation" : {
            "type" : "Point",
            "coordinates" : [
                151,
                53.5
            ]
        }
    }
])

# mapReduce
map = function() {
	var key = this._id;
	var value = this.double;
	emit(key, value);
}
reduce = function(key, values) {
	var result = 0;
	values.forEach(
		function(value) {
			result += value;
		}
	);
	return(result);
};
filter = {
	"string" : { "$eq" : "string_0" }
};
db.mongodb_collection.mapReduce(
	map, 
	reduce, 
	{
		"query" : filter,
		"out" : "mongodb_mapReduce"
	}
);

# rename
db.mongodb_collection.renameCollection("rename_collection")

# remove
db.mongodb_collection.remove({})

# drop
db.mongodb_collection.drop()

# index
db.mongodb_collection.createIndex(
    { string: 1 }
)
db.mongodb_collection.createIndex(
    { ttl: 1 },
    { expireAfterSeconds: 10 }
)

db.mongodb_collection.createIndex(
    { long: 1 }, 
    { unique : true }
)
db.mongodb_collection.getIndexes()

# status
db.mongodb_collection.stats()

# comment
db.mongodb_collection.find({
    "string" : "string_1"
}).comment("comment test.").pretty()

# explain
db.mongodb_collection.find({
    "double" : 0.0,
    "string" : "string_0"
}).explain("executionStats")

# help
db.mongodb_collection.help()

# system info
db.system.indexes.find()
